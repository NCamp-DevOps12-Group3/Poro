<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
		PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="MemberDao">
	<insert id="join" parameterType="member">
	INSERT INTO (
	    NICKNAME,
	    NAME,
	    GENDER,
	    JOB,
	    PHONENUMBER,
	    EMAIL,
	    PASSWORD,
	    ROLE,
	) VALUE (
	    #{nickname},
		#{name},
		#{gender},
		#{job},
		#{phonenumber},
		#{email},
		#{password},
		#{role},
	)
	</insert>
	<select id="findMembersUsingKeyword" parameterType="string" resultType="member">
		SELECT U.NICKNAME
			 , U.NAME
			 , U.EMAIL
			 , U.JOB
			 , U.ROLE
			 , U.PROFILE_IMAGE
			FROM USER U
			WHERE 1=1
			<if test="searchKeyword != null and searchKeyword != ''">
				AND (U.NICKNAME LIKE CONCAT('%', #{searchKeyword}, '%'),
				OR (U.NAME LIKE CONCAT('%', #{searchKeyword}, '%'),
				OR (U.EMAIL LIKE CONCAT('%', #{searchKeyword}, '%'))
			</if>
	</select>
	
	
	
	
	
	
	
	
	
	
	
	
</mapper>